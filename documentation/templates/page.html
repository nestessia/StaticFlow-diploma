{% extends "base.html" %}

{% block title %}{{ page.title or "Untitled" }}{% endblock %}

{% block head %}{{ page_head_content|safe }}{% endblock %}

{% block navbar %}
<nav class="navbar">
    <div class="navbar-container">
        <a href="/" class="navbar-brand">
            <img src="/media/staticflow.png" alt="StaticFlow Logo" class="logo-sf"/>
            StaticFlow
        </a>
        <button class="navbar-toggle" id="navbar-toggle" aria-label="Переключить навигацию">
            <i class="fas fa-bars"></i>
        </button>
        <ul class="navbar-menu" id="navbar-menu">
            <li><a href="/about.html" class="navbar-item {% if page.url == '/about.html' %}active{% endif %}">
                <i class="fas fa-info-circle"></i> О проекте
            </a></li>
            <li><a href="/installation.html" class="navbar-item {% if page.url == '/installation.html' %}active{% endif %}">
                <i class="fas fa-download"></i> Установка
            </a></li>
            <li><a href="/quickstart.html" class="navbar-item {% if page.url == '/quickstart.html' %}active{% endif %}">
                <i class="fas fa-rocket"></i> Быстрый старт
            </a></li>
            <li><a href="/blocks.html" class="navbar-item {% if page.url == '/blocks.html' %}active{% endif %}">
                <i class="fas fa-palette"></i> Блочный редактор
            </a></li>
            <li><a href="/plugins.html" class="navbar-item {% if page.url == '/plugins.html' %}active{% endif %}">
                <i class="fas fa-puzzle-piece"></i> Плагины
            </a></li>
            <li><a href="/deploy.html" class="navbar-item {% if page.url == '/deploy.html' %}active{% endif %}">
                <i class="fas fa-cloud-upload-alt"></i> Деплой
            </a></li>
            <li>
                <button id="lang-toggle" class="navbar-item" style="background:none;border:none;cursor:pointer;display:flex;align-items:center;gap:0.3em;">
                    <i class="fas fa-globe"></i>
                    <span>EN</span>
                </button>
            </li>
        </ul>
    </div>
</nav>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        var langToggle = document.getElementById('lang-toggle');
        if (langToggle) {
            langToggle.addEventListener('click', function() {
                var current = window.location.pathname;
                if (current.startsWith('/en/')) {
                    var newUrl = current.replace(/^\/en\//, '/');
                } else {
                    var newUrl = '/en' + (current.startsWith('/') ? current : '/' + current);
                }
                window.location.pathname = newUrl;
            });
        }
    });
</script>
{% endblock %}

{% block content %}
    {{ page_content|safe }}
{% endblock %}

{% block footer %}
<footer>
    <div class="container">
        <p>&copy; nestessia | Сделано с <i class="fas fa-heart" style="color: #ef4444;"></i></p>
    </div>
</footer>
{% endblock %} 