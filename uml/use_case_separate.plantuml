@startuml
left to right direction
skinparam backgroundColor white
skinparam handwritten false
skinparam defaultFontName Arial
skinparam defaultFontSize 14
skinparam actorStyle awesome
skinparam usecaseStyle uml2

' Цвета для разных групп
skinparam rectangle {
    BackgroundColor<<Technical>> #FFE4B5
    BackgroundColor<<Content>> #E6E6FA
    BackgroundColor<<Publishing>> #98FB98
    BorderColor<<Technical>> #FFA500
    BorderColor<<Content>> #9370DB
    BorderColor<<Publishing>> #32CD32
}

' Определение акторов
actor "Разработчик" as dev #FFA500
actor "Контент-менеджер" as cm #9370DB
actor "Пользователь" as user #32CD32

' Группировка вариантов использования
rectangle "Техническая настройка" <<Technical>> {
  usecase "Настроить параметры сайта" as UC2
  usecase "Настроить шаблоны" as UC4
  usecase "Добавить плагины" as UC5
  usecase "Управлять кэшем" as UC14
  usecase "Управлять парсерами" as UC15
}

rectangle "Управление контентом" <<Content>> {
  usecase "Добавить контент" as UC3
  usecase "Создать/редактировать страницы" as UC9_1
  usecase "Управлять структурой сайта" as UC9_2
  usecase "Работать с метаданными" as UC9_3
  usecase "Управлять медиафайлами" as UC9_4
  usecase "Настроить форматирование" as UC10_1
  usecase "Выбрать шаблоны" as UC10_2
  usecase "Настроить виджеты" as UC10_3
  usecase "Управлять SEO" as UC10_4
  usecase "Просматривать историю изменений" as UC16
  usecase "Откатить изменения" as UC17
}

rectangle "Публикация" <<Publishing>> {
  usecase "Собрать сайт" as UC6
  usecase "Предпросмотр сайта" as UC7
  usecase "Развернуть сайт" as UC8
  usecase "Просматривать страницы" as UC11
  usecase "Навигация по сайту" as UC12
  usecase "Поиск информации" as UC13
}

' Связи разработчика
dev --> UC2
dev --> UC4
dev --> UC5
dev --> UC6
dev --> UC7
dev --> UC8
dev --> UC14
dev --> UC15

' Связи контент-менеджера
cm --> UC3
cm --> UC9_1
cm --> UC9_2
cm --> UC9_3
cm --> UC9_4
cm --> UC10_1
cm --> UC10_2
cm --> UC10_3
cm --> UC10_4
cm --> UC7
cm --> UC8
cm --> UC16
cm --> UC17

' Связи пользователя
user --> UC11
user --> UC12
user --> UC13

' Отношения include/extend
UC6 ..> UC7 : <<include>>
UC7 ..> UC8 : <<extend>>
UC9_1 ..> UC16 : <<include>>
UC9_1 ..> UC17 : <<extend>>
UC14 ..> UC6 : <<extend>>
UC15 ..> UC6 : <<extend>>

' Пояснительные заметки
note right of dev #FFA500
  <b>Разработчик</b>
  Отвечает за:
  - техническую часть
  - развертывание
end note

note right of cm #9370DB
  <b>Контент-менеджер</b>
  Отвечает за:
  - создание и организацию контента
  - настройку внешнего вида
  - SEO-оптимизацию
end note

note right of user #32CD32
  <b>Пользователь</b>
  Только просматривает
  готовый сайт
end note

@enduml 